// *** WARNING: this file was generated by the Kulado Terraform Bridge (tfgen) Tool. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

package compute

import (
	"github.com/pkg/errors"
	"github.com/kulado/kulado/sdk/go/kulado"
)

// Manage a virtual machine scale set.
// 
// > **Note:** All arguments including the administrator login and password will be stored in the raw state as plain-text.
// [Read more about sensitive data in state](https://www.terraform.io/docs/state/sensitive-data.html).
//
// > This content is derived from https://github.com/terraform-providers/terraform-provider-azurerm/blob/master/website/docs/r/virtual_machine_scale_set.html.markdown.
type ScaleSet struct {
	s *kulado.ResourceState
}

// NewScaleSet registers a new resource with the given unique name, arguments, and options.
func NewScaleSet(ctx *kulado.Context,
	name string, args *ScaleSetArgs, opts ...kulado.ResourceOpt) (*ScaleSet, error) {
	if args == nil || args.NetworkProfiles == nil {
		return nil, errors.New("missing required argument 'NetworkProfiles'")
	}
	if args == nil || args.OsProfile == nil {
		return nil, errors.New("missing required argument 'OsProfile'")
	}
	if args == nil || args.ResourceGroupName == nil {
		return nil, errors.New("missing required argument 'ResourceGroupName'")
	}
	if args == nil || args.Sku == nil {
		return nil, errors.New("missing required argument 'Sku'")
	}
	if args == nil || args.StorageProfileOsDisk == nil {
		return nil, errors.New("missing required argument 'StorageProfileOsDisk'")
	}
	if args == nil || args.UpgradePolicyMode == nil {
		return nil, errors.New("missing required argument 'UpgradePolicyMode'")
	}
	inputs := make(map[string]interface{})
	if args == nil {
		inputs["automaticOsUpgrade"] = nil
		inputs["bootDiagnostics"] = nil
		inputs["evictionPolicy"] = nil
		inputs["extensions"] = nil
		inputs["healthProbeId"] = nil
		inputs["identity"] = nil
		inputs["licenseType"] = nil
		inputs["location"] = nil
		inputs["name"] = nil
		inputs["networkProfiles"] = nil
		inputs["osProfile"] = nil
		inputs["osProfileLinuxConfig"] = nil
		inputs["osProfileSecrets"] = nil
		inputs["osProfileWindowsConfig"] = nil
		inputs["overprovision"] = nil
		inputs["plan"] = nil
		inputs["priority"] = nil
		inputs["resourceGroupName"] = nil
		inputs["rollingUpgradePolicy"] = nil
		inputs["singlePlacementGroup"] = nil
		inputs["sku"] = nil
		inputs["storageProfileDataDisks"] = nil
		inputs["storageProfileImageReference"] = nil
		inputs["storageProfileOsDisk"] = nil
		inputs["tags"] = nil
		inputs["upgradePolicyMode"] = nil
		inputs["zones"] = nil
	} else {
		inputs["automaticOsUpgrade"] = args.AutomaticOsUpgrade
		inputs["bootDiagnostics"] = args.BootDiagnostics
		inputs["evictionPolicy"] = args.EvictionPolicy
		inputs["extensions"] = args.Extensions
		inputs["healthProbeId"] = args.HealthProbeId
		inputs["identity"] = args.Identity
		inputs["licenseType"] = args.LicenseType
		inputs["location"] = args.Location
		inputs["name"] = args.Name
		inputs["networkProfiles"] = args.NetworkProfiles
		inputs["osProfile"] = args.OsProfile
		inputs["osProfileLinuxConfig"] = args.OsProfileLinuxConfig
		inputs["osProfileSecrets"] = args.OsProfileSecrets
		inputs["osProfileWindowsConfig"] = args.OsProfileWindowsConfig
		inputs["overprovision"] = args.Overprovision
		inputs["plan"] = args.Plan
		inputs["priority"] = args.Priority
		inputs["resourceGroupName"] = args.ResourceGroupName
		inputs["rollingUpgradePolicy"] = args.RollingUpgradePolicy
		inputs["singlePlacementGroup"] = args.SinglePlacementGroup
		inputs["sku"] = args.Sku
		inputs["storageProfileDataDisks"] = args.StorageProfileDataDisks
		inputs["storageProfileImageReference"] = args.StorageProfileImageReference
		inputs["storageProfileOsDisk"] = args.StorageProfileOsDisk
		inputs["tags"] = args.Tags
		inputs["upgradePolicyMode"] = args.UpgradePolicyMode
		inputs["zones"] = args.Zones
	}
	s, err := ctx.RegisterResource("azure:compute/scaleSet:ScaleSet", name, true, inputs, opts...)
	if err != nil {
		return nil, err
	}
	return &ScaleSet{s: s}, nil
}

// GetScaleSet gets an existing ScaleSet resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetScaleSet(ctx *kulado.Context,
	name string, id kulado.ID, state *ScaleSetState, opts ...kulado.ResourceOpt) (*ScaleSet, error) {
	inputs := make(map[string]interface{})
	if state != nil {
		inputs["automaticOsUpgrade"] = state.AutomaticOsUpgrade
		inputs["bootDiagnostics"] = state.BootDiagnostics
		inputs["evictionPolicy"] = state.EvictionPolicy
		inputs["extensions"] = state.Extensions
		inputs["healthProbeId"] = state.HealthProbeId
		inputs["identity"] = state.Identity
		inputs["licenseType"] = state.LicenseType
		inputs["location"] = state.Location
		inputs["name"] = state.Name
		inputs["networkProfiles"] = state.NetworkProfiles
		inputs["osProfile"] = state.OsProfile
		inputs["osProfileLinuxConfig"] = state.OsProfileLinuxConfig
		inputs["osProfileSecrets"] = state.OsProfileSecrets
		inputs["osProfileWindowsConfig"] = state.OsProfileWindowsConfig
		inputs["overprovision"] = state.Overprovision
		inputs["plan"] = state.Plan
		inputs["priority"] = state.Priority
		inputs["resourceGroupName"] = state.ResourceGroupName
		inputs["rollingUpgradePolicy"] = state.RollingUpgradePolicy
		inputs["singlePlacementGroup"] = state.SinglePlacementGroup
		inputs["sku"] = state.Sku
		inputs["storageProfileDataDisks"] = state.StorageProfileDataDisks
		inputs["storageProfileImageReference"] = state.StorageProfileImageReference
		inputs["storageProfileOsDisk"] = state.StorageProfileOsDisk
		inputs["tags"] = state.Tags
		inputs["upgradePolicyMode"] = state.UpgradePolicyMode
		inputs["zones"] = state.Zones
	}
	s, err := ctx.ReadResource("azure:compute/scaleSet:ScaleSet", name, id, inputs, opts...)
	if err != nil {
		return nil, err
	}
	return &ScaleSet{s: s}, nil
}

// URN is this resource's unique name assigned by Kulado.
func (r *ScaleSet) URN() *kulado.URNOutput {
	return r.s.URN()
}

// ID is this resource's unique identifier assigned by its provider.
func (r *ScaleSet) ID() *kulado.IDOutput {
	return r.s.ID()
}

// Automatic OS patches can be applied by Azure to your scaleset. This is particularly useful when `upgrade_policy_mode` is set to `Rolling`. Defaults to `false`.
func (r *ScaleSet) AutomaticOsUpgrade() *kulado.BoolOutput {
	return (*kulado.BoolOutput)(r.s.State["automaticOsUpgrade"])
}

// A boot diagnostics profile block as referenced below.
func (r *ScaleSet) BootDiagnostics() *kulado.Output {
	return r.s.State["bootDiagnostics"]
}

// Specifies the eviction policy for Virtual Machines in this Scale Set. Possible values are `Deallocate` and `Delete`.
func (r *ScaleSet) EvictionPolicy() *kulado.StringOutput {
	return (*kulado.StringOutput)(r.s.State["evictionPolicy"])
}

// Can be specified multiple times to add extension profiles to the scale set. Each `extension` block supports the fields documented below.
func (r *ScaleSet) Extensions() *kulado.ArrayOutput {
	return (*kulado.ArrayOutput)(r.s.State["extensions"])
}

// Specifies the identifier for the load balancer health probe. Required when using `Rolling` as your `upgrade_policy_mode`.
func (r *ScaleSet) HealthProbeId() *kulado.StringOutput {
	return (*kulado.StringOutput)(r.s.State["healthProbeId"])
}

func (r *ScaleSet) Identity() *kulado.Output {
	return r.s.State["identity"]
}

// Specifies the Windows OS license type. If supplied, the only allowed values are `Windows_Client` and `Windows_Server`.
func (r *ScaleSet) LicenseType() *kulado.StringOutput {
	return (*kulado.StringOutput)(r.s.State["licenseType"])
}

// Specifies the supported Azure location where the resource exists. Changing this forces a new resource to be created.
func (r *ScaleSet) Location() *kulado.StringOutput {
	return (*kulado.StringOutput)(r.s.State["location"])
}

// Specifies the name of the image from the marketplace.
func (r *ScaleSet) Name() *kulado.StringOutput {
	return (*kulado.StringOutput)(r.s.State["name"])
}

// A collection of network profile block as documented below.
func (r *ScaleSet) NetworkProfiles() *kulado.ArrayOutput {
	return (*kulado.ArrayOutput)(r.s.State["networkProfiles"])
}

// A Virtual Machine OS Profile block as documented below.
func (r *ScaleSet) OsProfile() *kulado.Output {
	return r.s.State["osProfile"]
}

// A Linux config block as documented below.
func (r *ScaleSet) OsProfileLinuxConfig() *kulado.Output {
	return r.s.State["osProfileLinuxConfig"]
}

// A collection of Secret blocks as documented below.
func (r *ScaleSet) OsProfileSecrets() *kulado.ArrayOutput {
	return (*kulado.ArrayOutput)(r.s.State["osProfileSecrets"])
}

// A Windows config block as documented below.
func (r *ScaleSet) OsProfileWindowsConfig() *kulado.Output {
	return r.s.State["osProfileWindowsConfig"]
}

// Specifies whether the virtual machine scale set should be overprovisioned.
func (r *ScaleSet) Overprovision() *kulado.BoolOutput {
	return (*kulado.BoolOutput)(r.s.State["overprovision"])
}

// A plan block as documented below.
func (r *ScaleSet) Plan() *kulado.Output {
	return r.s.State["plan"]
}

// Specifies the priority for the Virtual Machines in the Scale Set. Defaults to `Regular`. Possible values are `Low` and `Regular`.
func (r *ScaleSet) Priority() *kulado.StringOutput {
	return (*kulado.StringOutput)(r.s.State["priority"])
}

// The name of the resource group in which to create the virtual machine scale set. Changing this forces a new resource to be created.
func (r *ScaleSet) ResourceGroupName() *kulado.StringOutput {
	return (*kulado.StringOutput)(r.s.State["resourceGroupName"])
}

// A `rolling_upgrade_policy` block as defined below. This is only applicable when the `upgrade_policy_mode` is `Rolling`.
func (r *ScaleSet) RollingUpgradePolicy() *kulado.Output {
	return r.s.State["rollingUpgradePolicy"]
}

// Specifies whether the scale set is limited to a single placement group with a maximum size of 100 virtual machines. If set to false, managed disks must be used. Default is true. Changing this forces a new resource to be created. See [documentation](http://docs.microsoft.com/en-us/azure/virtual-machine-scale-sets/virtual-machine-scale-sets-placement-groups) for more information.
func (r *ScaleSet) SinglePlacementGroup() *kulado.BoolOutput {
	return (*kulado.BoolOutput)(r.s.State["singlePlacementGroup"])
}

// Specifies the SKU of the image used to create the virtual machines.
func (r *ScaleSet) Sku() *kulado.Output {
	return r.s.State["sku"]
}

// A storage profile data disk block as documented below
func (r *ScaleSet) StorageProfileDataDisks() *kulado.ArrayOutput {
	return (*kulado.ArrayOutput)(r.s.State["storageProfileDataDisks"])
}

// A storage profile image reference block as documented below.
func (r *ScaleSet) StorageProfileImageReference() *kulado.Output {
	return r.s.State["storageProfileImageReference"]
}

// A storage profile os disk block as documented below
func (r *ScaleSet) StorageProfileOsDisk() *kulado.Output {
	return r.s.State["storageProfileOsDisk"]
}

// A mapping of tags to assign to the resource.
func (r *ScaleSet) Tags() *kulado.MapOutput {
	return (*kulado.MapOutput)(r.s.State["tags"])
}

// Specifies the mode of an upgrade to virtual machines in the scale set. Possible values, `Rolling`, `Manual`, or `Automatic`. When choosing `Rolling`, you will need to set a health probe.
func (r *ScaleSet) UpgradePolicyMode() *kulado.StringOutput {
	return (*kulado.StringOutput)(r.s.State["upgradePolicyMode"])
}

// A collection of availability zones to spread the Virtual Machines over.
func (r *ScaleSet) Zones() *kulado.ArrayOutput {
	return (*kulado.ArrayOutput)(r.s.State["zones"])
}

// Input properties used for looking up and filtering ScaleSet resources.
type ScaleSetState struct {
	// Automatic OS patches can be applied by Azure to your scaleset. This is particularly useful when `upgrade_policy_mode` is set to `Rolling`. Defaults to `false`.
	AutomaticOsUpgrade interface{}
	// A boot diagnostics profile block as referenced below.
	BootDiagnostics interface{}
	// Specifies the eviction policy for Virtual Machines in this Scale Set. Possible values are `Deallocate` and `Delete`.
	EvictionPolicy interface{}
	// Can be specified multiple times to add extension profiles to the scale set. Each `extension` block supports the fields documented below.
	Extensions interface{}
	// Specifies the identifier for the load balancer health probe. Required when using `Rolling` as your `upgrade_policy_mode`.
	HealthProbeId interface{}
	Identity interface{}
	// Specifies the Windows OS license type. If supplied, the only allowed values are `Windows_Client` and `Windows_Server`.
	LicenseType interface{}
	// Specifies the supported Azure location where the resource exists. Changing this forces a new resource to be created.
	Location interface{}
	// Specifies the name of the image from the marketplace.
	Name interface{}
	// A collection of network profile block as documented below.
	NetworkProfiles interface{}
	// A Virtual Machine OS Profile block as documented below.
	OsProfile interface{}
	// A Linux config block as documented below.
	OsProfileLinuxConfig interface{}
	// A collection of Secret blocks as documented below.
	OsProfileSecrets interface{}
	// A Windows config block as documented below.
	OsProfileWindowsConfig interface{}
	// Specifies whether the virtual machine scale set should be overprovisioned.
	Overprovision interface{}
	// A plan block as documented below.
	Plan interface{}
	// Specifies the priority for the Virtual Machines in the Scale Set. Defaults to `Regular`. Possible values are `Low` and `Regular`.
	Priority interface{}
	// The name of the resource group in which to create the virtual machine scale set. Changing this forces a new resource to be created.
	ResourceGroupName interface{}
	// A `rolling_upgrade_policy` block as defined below. This is only applicable when the `upgrade_policy_mode` is `Rolling`.
	RollingUpgradePolicy interface{}
	// Specifies whether the scale set is limited to a single placement group with a maximum size of 100 virtual machines. If set to false, managed disks must be used. Default is true. Changing this forces a new resource to be created. See [documentation](http://docs.microsoft.com/en-us/azure/virtual-machine-scale-sets/virtual-machine-scale-sets-placement-groups) for more information.
	SinglePlacementGroup interface{}
	// Specifies the SKU of the image used to create the virtual machines.
	Sku interface{}
	// A storage profile data disk block as documented below
	StorageProfileDataDisks interface{}
	// A storage profile image reference block as documented below.
	StorageProfileImageReference interface{}
	// A storage profile os disk block as documented below
	StorageProfileOsDisk interface{}
	// A mapping of tags to assign to the resource.
	Tags interface{}
	// Specifies the mode of an upgrade to virtual machines in the scale set. Possible values, `Rolling`, `Manual`, or `Automatic`. When choosing `Rolling`, you will need to set a health probe.
	UpgradePolicyMode interface{}
	// A collection of availability zones to spread the Virtual Machines over.
	Zones interface{}
}

// The set of arguments for constructing a ScaleSet resource.
type ScaleSetArgs struct {
	// Automatic OS patches can be applied by Azure to your scaleset. This is particularly useful when `upgrade_policy_mode` is set to `Rolling`. Defaults to `false`.
	AutomaticOsUpgrade interface{}
	// A boot diagnostics profile block as referenced below.
	BootDiagnostics interface{}
	// Specifies the eviction policy for Virtual Machines in this Scale Set. Possible values are `Deallocate` and `Delete`.
	EvictionPolicy interface{}
	// Can be specified multiple times to add extension profiles to the scale set. Each `extension` block supports the fields documented below.
	Extensions interface{}
	// Specifies the identifier for the load balancer health probe. Required when using `Rolling` as your `upgrade_policy_mode`.
	HealthProbeId interface{}
	Identity interface{}
	// Specifies the Windows OS license type. If supplied, the only allowed values are `Windows_Client` and `Windows_Server`.
	LicenseType interface{}
	// Specifies the supported Azure location where the resource exists. Changing this forces a new resource to be created.
	Location interface{}
	// Specifies the name of the image from the marketplace.
	Name interface{}
	// A collection of network profile block as documented below.
	NetworkProfiles interface{}
	// A Virtual Machine OS Profile block as documented below.
	OsProfile interface{}
	// A Linux config block as documented below.
	OsProfileLinuxConfig interface{}
	// A collection of Secret blocks as documented below.
	OsProfileSecrets interface{}
	// A Windows config block as documented below.
	OsProfileWindowsConfig interface{}
	// Specifies whether the virtual machine scale set should be overprovisioned.
	Overprovision interface{}
	// A plan block as documented below.
	Plan interface{}
	// Specifies the priority for the Virtual Machines in the Scale Set. Defaults to `Regular`. Possible values are `Low` and `Regular`.
	Priority interface{}
	// The name of the resource group in which to create the virtual machine scale set. Changing this forces a new resource to be created.
	ResourceGroupName interface{}
	// A `rolling_upgrade_policy` block as defined below. This is only applicable when the `upgrade_policy_mode` is `Rolling`.
	RollingUpgradePolicy interface{}
	// Specifies whether the scale set is limited to a single placement group with a maximum size of 100 virtual machines. If set to false, managed disks must be used. Default is true. Changing this forces a new resource to be created. See [documentation](http://docs.microsoft.com/en-us/azure/virtual-machine-scale-sets/virtual-machine-scale-sets-placement-groups) for more information.
	SinglePlacementGroup interface{}
	// Specifies the SKU of the image used to create the virtual machines.
	Sku interface{}
	// A storage profile data disk block as documented below
	StorageProfileDataDisks interface{}
	// A storage profile image reference block as documented below.
	StorageProfileImageReference interface{}
	// A storage profile os disk block as documented below
	StorageProfileOsDisk interface{}
	// A mapping of tags to assign to the resource.
	Tags interface{}
	// Specifies the mode of an upgrade to virtual machines in the scale set. Possible values, `Rolling`, `Manual`, or `Automatic`. When choosing `Rolling`, you will need to set a health probe.
	UpgradePolicyMode interface{}
	// A collection of availability zones to spread the Virtual Machines over.
	Zones interface{}
}
